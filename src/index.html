<!DOCTYPE html>

<html>
  <head>
    <base href="/">
    <title>Welcome to Angular 2!</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <main>Loading...</main>
    <script>

        // const initialState = 0;

        // const reducer = (state = 0, action) => {
        //     console.log("state", state, "action", action);
        //     switch(action.type) {
        //         case "add":
        //             return state + action.value;
        //         case "subtract":
        //             return state - action.value;
        //         default:
        //             return state;
        //     }
        // };

        // const createStore = (reducer, initialState) => {

        //     let currentState = initialState;
        //     console.log(currentState);
        //     const subscribeFns = [];

        //     return {
        //         getState: () => currentState,
        //         dispatch: action => {
        //             currentState = reducer(currentState, action);
        //             subscribeFns.forEach(subscribeFn => subscribeFn());
        //         },
        //         subscribe: subscribeFn => {

        //             subscribeFns.push(subscribeFn);

        //             return () => {
        //                 const fnIndex = subscribeFns.indexOf(subscribeFn);
        //                 subscribeFns.splice(fnIndex, 1);
        //             };
        //         },
        //     };

        // };

        // const store = createStore(reducer, initialState);

        // const storeUnsubscribe = store.subscribe(() => {
        //     console.log(store.getState());
        // });

        // const addActionCreator = value => ({ type: "add", value });
        // const subtractActionCreator = value => ({ type: "subtract", value });

        // const bindActionCreators = (actionCreators, dispatch) =>
        //     Object.keys(actionCreators).reduce( (actions, key) => {
        //         actions[key] = (...params) => dispatch(actionCreators[key](...params));
        //         return actions;
        //     }, {});

        // const { add, subtract } = bindActionCreators({
        //     add: addActionCreator,
        //     subtract: subtractActionCreator,
        // }, store.dispatch);

        // add(1);
        // subtract(2);
        // add(3);
        // subtract(4);
        // add(5);

        // storeUnsubscribe();

    </script>
  </body>
</html>
